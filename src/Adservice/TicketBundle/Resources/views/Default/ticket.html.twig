{% extends "::layout.html.twig" %}

{% block body %}

<!-- TABLA TICKETS -->

<div class="colIzq">
    <div class="widget stacked widget-table action-table">
    				
        <div class="widget-header">
                <i class="icon-th-list"></i>
                <h3>Historial Tickets</h3>
        </div> <!-- /widget-header -->

        <div class="widget-content" >

            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>{% trans %}Fecha{% endtrans %}</th>
                        <th>{% trans %}Taller{% endtrans %}</th>
                        <th>{% trans %}Descripcion{% endtrans %}</th>
                    </tr>
                </thead>
                <tbody>
                {% if tickets | length == 0 %}
                    <tr><td>No tienes ningun ticket abierto</td></tr>
                {% else %}
                    {% for ticket in tickets %}
                    <tr>
                        <td>{{ ticket.dateCreated | date("d-m-Y") }}</td>
                        <td>{{ ticket.user.username | length > 9 ?  ticket.user.username | slice(0, 9) ~ '...' : ticket.user.username }}</td>
                        <td><a href="{{ path('showTicket', { 'id_ticket' : ticket.id }) }}"> 
                            {{ ticket.title | length > 10 ?  ticket.title | slice(0, 10) ~ '...' : ticket.title }}
                        </a></td>
                    </tr>
                    {% endfor %}
                {% endif %}
                </tbody>
            </table>
        </div> <!-- /widget-content -->
    </div> <!-- /widget -->
</div>

<!-- CONTENIDO PAGINA TICKETS -->

<div class="colDer">
    {% block content %}{% endblock  %}
</div>
    
{% endblock %}
