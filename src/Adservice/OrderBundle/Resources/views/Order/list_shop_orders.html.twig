
    <legend>{% trans %} list.shop.pending {% endtrans %}</legend>

    {% if orders is defined %}
        {% if orders|length > 0  %}
            <table class="table table-hover" style="width: 90%; margin-left: 10%;">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>{% trans %} shop    {% endtrans %}</th>
                        <th>{% trans %} partner {% endtrans %}</th>
                        <th>{% trans %} tel     {% endtrans %}</th>
                        <th>{% trans %} region  {% endtrans %}</th>
                        <th>{% trans %} address {% endtrans %}</th>
                        <th>{% trans %} status  {% endtrans %}</th>
                        <th>{% trans %} order   {% endtrans %}</th>
                        <th>{% trans %} actions {% endtrans %}</th>
                    </tr>
                </thead>
                <tbody>
                    {% for shopOrder in orders %}

                    {% if ordersBefore[shopOrder.id] is defined %}
                        {% set orderBefore = ordersBefore[shopOrder.id] %}
                    {% endif %}
                        <tr>{# {% if orderBefore is defined and orderBefore.name         != shopOrder.name         %} *{% endif %} #}
                            <td> {{ shopOrder.id           }} </td>
                            <td> {{ shopOrder.name         }} </td>
                            <td> {{ shopOrder.partner      }} </td>
                            <td> {{ shopOrder.phoneNumber1 }} </td>
                            <td> {{ shopOrder.region       }} </td>
                            <td> {{ shopOrder.address      }} </td>
                            <td> {% if shopOrder.active == 1 %}{% trans %} active   {% endtrans %}
                                 {% else %}                    {% trans %} deactive {% endtrans %}{% endif %}</td>
                            <td>
                                    <a title="Ver detalles del taller" href="#"><span class="glyphicon glyphicon-eye-open" data-toggle="modal" data-target="#myModal_edit_{{ shopOrder.id }}" ></span></a>
                                    {% if shopOrder.rejectionReason is not null %}
                                        <a title="{{ shopOrder.rejectionReason }}" href="#"><span class="glyphicon glyphicon-fire" style="color: red;"></span></a>
                                    {% endif %}
                                    <!-- Modal -->
                                    <div class="modal fade" id="myModal_edit_{{ shopOrder.id }}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                                    <h4 class="modal-title" id="myModalLabel">{% trans %} order.details {% endtrans %}</h4>
                                                </div>
                                                <div class="modal-body">
                                                    <table class="table table-hover">
                                                    {% if shopOrder.wantedaction == 'modify' or shopOrder.action == 're_modify' %}
                                                        <tr><th>                                  </th><th>{% trans %} before {% endtrans %}</th><th>{% trans %} after {% endtrans %}</th></tr>
                                                        <tr><td>{% trans %} name    {% endtrans %}</td><td>{{ orderBefore.name }}         </td><td> {{ shopOrder.name         }} </td></tr>
                                                        <tr><td>{% trans %} partner {% endtrans %}</td><td>{{ orderBefore.partner }}      </td><td> {{ shopOrder.partner      }} </td></tr>
                                                        <tr><td>{% trans %} tel     {% endtrans %}</td><td>{{ orderBefore.phoneNumber1 }} </td><td> {{ shopOrder.phoneNumber1 }} </td></tr>
                                                        <tr><td>{% trans %} region  {% endtrans %}</td><td>{{ orderBefore.region }}       </td><td> {{ shopOrder.region       }} </td></tr>
                                                        <tr><td>{% trans %} address {% endtrans %}</td><td>{{ orderBefore.address  }}     </td><td> {{ shopOrder.address      }} </td></tr>
                                                    {% else %}
                                                        <tr><th>                                  </th><th>{% trans %}values{% endtrans %}</th></tr>
                                                        <tr><td>{% trans %} name    {% endtrans %}</td><td> {{ shopOrder.name         }} </td></tr>
                                                        <tr><td>{% trans %} partner {% endtrans %}</td><td> {{ shopOrder.partner      }} </td></tr>
                                                        <tr><td>{% trans %} tel     {% endtrans %}</td><td> {{ shopOrder.phoneNumber1 }} </td></tr>
                                                        <tr><td>{% trans %} region  {% endtrans %}</td><td> {{ shopOrder.region       }} </td></tr>
                                                        <tr><td>{% trans %} address {% endtrans %}</td><td> {{ shopOrder.address      }} </td></tr>
                                                    {% endif %}
                                                    </table>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default" data-dismiss="modal">{% trans %} btn.close {% endtrans %}</button>
                                                </div>
                                            </div><!-- /.modal-content -->
                                        </div><!-- /.modal-dialog -->
                                    </div><!-- /.modal -->

                                {% if shopOrder.wantedaction == 'modify' or shopOrder.action == 're_modify' %}
                                    <span class="label label-warning"> {% trans %} action.modify {% endtrans %}</span>
                                {% elseif shopOrder.action == 'activate' %}
                                    <span class="label label-danger">  {% trans %} inactive      {% endtrans %}</span>
                                    <span class="glyphicon glyphicon-arrow-right">                        </span>
                                    <span class="label label-success"> {% trans %} active        {% endtrans %}</span>
                                {% elseif shopOrder.action == 'deactivate' %}
                                    <span class="label label-success"> {% trans %} active        {% endtrans %}</span>
                                    <span class="glyphicon glyphicon-arrow-right">                        </span>
                                    <span class="label label-danger">  {% trans %} inactive      {% endtrans %}</span>
                                {% elseif shopOrder.action == 'create' %}
                                    <span class="label label-info">    {% trans %} action.create {% endtrans %}</span>
                                {% elseif shopOrder.action == 'delete' %}
                                    <span class="label label-danger">  {% trans %} delete        {% endtrans %}</span>
                                {% elseif shopOrder.action == 'rejected' %}
                                    <span class="label label-danger">  {% trans %} rejected      {% endtrans %}</span>

                                {% elseif shopOrder.action == 'resend' and shopOrder.rejectionReason is not null %}
                                    <span class="label label-warning"> {% trans %} resend {% endtrans %} {{ shopOrder.wantedaction }} </span>
                                        <a title="{{ shopOrder.rejectionReason }}" href="#"><span class="glyphicon glyphicon-fire" style="color: red;"></span></a>
                                {% endif %}
                            </td>
                            {% if is_granted('ROLE_ADMIN') %}
                                <td>
                                    <a title="{% trans %} accept {% endtrans %}" href="{{ path("shopOrder_accept", { 'id': shopOrder.id, 'status': 'accepted' }) }}"><span class="glyphicon glyphicon-ok"></span></a>
                                    <a title="{% trans %} reject {% endtrans %}" href="{{ path("shopOrder_reject", { 'id': shopOrder.id }) }}"><span class="glyphicon glyphicon-remove"></span></a>
                                </td>
                            {% elseif is_granted('ROLE_AD') %}
                                <td>
                                    <a title="{% trans %} cancel {% endtrans %}" href="{{ path('shopOrder_remove', {'id' : shopOrder.id}) }}"><span class="glyphicon glyphicon-remove"></span></a>
                                </td>
                            {% endif %}
                        </tr>
                    {% endfor %}
                </tbody>
            </table>

            {% include 'UtilBundle:Pagination:pagination_order.html.twig' %}

        {% else %}
            {% trans %} any.order.pending {% endtrans %}
        {% endif %}
    {% else %}
        {% trans %} any.order.pending {% endtrans %}
{% endif %}
