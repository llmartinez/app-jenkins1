{% extends '::layout.html.twig' %}

{% block body %}

    <ol class="breadcrumb">
        <li><a href="{{ path('user_index') }}">{{ 'home'|trans }}</a></li>
        <li><a href="{{ path('typology_list') }}">{{ 'menu.list_typologies'|trans }}</a></li>
        <li class="active">{% if typology.name != '' %}{{ 'edit.typology'|trans }} ({{ typology.name|length > 15 ? typology.name|slice(0, 15) ~ '...' : typology.name  }})
                           {% else                   %}{{ 'new.typology'|trans }} {% endif %}</li>
    </ol>

    {{ form_start(form, {'action': path("typology_edit", { 'id':typology.id })}) }}
        <div class="container">
            <legend>{{ 'typology'|trans }}</legend>

            <div class="col-xs-12 col-md-12 form-group">
                {% for flashMessage in app.session.flashbag.get('error') %}
                    <p class="error">{{ flashMessage }}</p>
                {% endfor %}
            </div>

            <div class="grid w30 fl">
                <label for="adservice_workshopbundle_typologytype_name">{{ 'name'|trans }} *</label>
                    {{ form_widget(form.name, { 'attr': {'class': 'form-control', 'placeholder': 'name' } }) }}
            </div>

           {# <div class="grid w15 fl">
                <label for="adservice_workshopbundle_typologytype_country">{{ 'country'|trans }} *</label>
                {{ form_widget(form.country, { 'attr': {'class': 'form-control'} }) }}
            </div>#}

            {% if form.category_service is defined %}
             <div class="grid w15 fl">
                <label>{{ 'category_service'|trans }} *</label>
                
                
                
                {% if is_granted('ROLE_SUPER_ADMIN') %}
                    {{ form_widget(form.category_service, { 'attr': {'class': 'form-control' , 'required': 'required'} }) }}
                {% else %}
                     <div hidden>
                     {{ form_widget(form.category_service, { 'attr': {'class': 'form-control'} }) }}
                     </div>
                     <select  id="adservice_workshopbundle_typologytype_category_service" name="adservice_workshopbundle_typologytype[category_service]" class="form-control"> 
                            <option value="0"></option>
                            <option value="{{ catserv.id }}">{{ catserv.CategoryService }}</option>
                    </select>
                {% endif %}
            </div>
            {% endif %}

            <div class="grid w15 fl">
                <label for="adservice_workshopbundle_typologytype_active">{{ 'active'|trans }}</label>
                {{ form_widget(form.active) }}
            </div>

            {{ form_rest(form) }}

            <button class="btn btn-primary pull-right" id="btn_create" type="submit"><img class="img_icon" src="{{ asset('bundles/util/images/icon/tick.png') }}"> {{ 'btn.send'|trans }}</button>
        </div>
    {{ form_end(form) }}

{% endblock %}