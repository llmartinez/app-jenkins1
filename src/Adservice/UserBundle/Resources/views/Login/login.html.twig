{% extends '::layout.html.twig' %}

{% block body %}
<div class="container">
    <div class="row">
        <div class="col-md-4 col-md-offset-4">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">{% trans %} login.welcome {% endtrans %}</h3>
                </div>
                <div class="panel-body">
{#                    <form accept-charset="UTF-8" role="form">#}
                    <form id="login_form" name="login_form" action="{{ path('user_login_check') }}" method="post">
                        {% if error %}
                            <div>{{ error.message|trans }}</div>
                        {% endif %}
                        <fieldset>
                            <div class="form-group">
                                <input class="form-control" placeholder="{% trans %} username {% endtrans %}" name="_username" type="text" id="username" value="{{ last_username }}">
                            </div>
                            <div class="form-group">
                                <input class="form-control" placeholder="{% trans %} password {% endtrans %}" name="_password" type="password" value=""  id="password">

                            </div>
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" id="remember_me" name="_remember_me" value="Remember Me" checked> {% trans %} login.remember {% endtrans %}
                                </label>
                            </div>
                            <input class="btn btn-lg btn-block btn-primary" id="btn_login" name="btn_login" type="submit" value="{% trans %} login {% endtrans %}">
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<?php
// class encryptTokenADS {

//     /**
//      * Method to encrypt a plain text string
//      * initialization vector(IV) has to be the same when encrypting and decrypting
//      * PHP 5.4.9
//      *
//      * @param string $string: string to encrypt or decrypt (the password)
//      *
//      * @return string
//      */
//     public function encryptADS($string){

//         $output = false;
//         //encryptiom method name
//         $encrypt_method = "AES-256-CBC";
//         //the current day "YYYYmmdd"
//         $secret_key = date_format(date_create('now'), 'Ymd');

//         //secret iv
//         $secret_iv = "TYDJbDYNYR4L19q6y5Eu";

//         // hash
//         $key = hash('sha256', $secret_key);
//         $iv = substr(hash('sha256', $secret_iv), 0, 16);

//         //encrypt with openssl
//         $output = openssl_encrypt($string, $encrypt_method, $key, 0, $iv);

//         //encode with base64
//         $output = base64_encode($output);

//         return $output;
//     }
// }

// $encrypt = new encryptTokenADS();


?>

{# <div>
    <form action="http://project.adservice/app_dev.php/es/autologin/" method="post" name="submit_form" >
        <!-- encrypted token -->
        <input type="text" id="token" name="token" value="ueswxDosR0Twp4DG8r2K">
        <button type="submit" id="submit" name="submit">Login</button>
    </form>
</div> #}
{% endblock %}